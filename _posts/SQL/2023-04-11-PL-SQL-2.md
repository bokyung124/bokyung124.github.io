---
title: "[DBP] CH3-2. PL/SQL λ‚΄μ—μ„μ SQLλ¬Έ"
last_modified_at: 2023-04-11T12:35:00-05:00
layout: post
categories:
    - SQL
excerpt: OracleDB) PL/SQL
toc: true
toc_sticky: true
author_profile: true
mathjax: true
tag: [lecture, OracleSQL]
---

## π€ SELECT λ¬Έ


```sql
SELECT select_list
INTO variable_name | record_name
FROM table
WHERE condition;
```

<br>

- λ°λ“μ‹ ν•λ‚μ ν–‰λ§μ„ μ¶”μ¶
- μ¶”μ¶λλ” λ°μ΄ν„° ν–‰μ΄ μ—†κ±°λ‚ ν•λ‚ μ΄μƒμΌ κ²½μ° μμ™Έ λ°μƒ
    - `TOO_MANY_ROWS`: ν•λ‚ μ΄μƒμ λ°μ΄ν„° ν–‰ μ¶”μ¶μ‹
    - `NO_DATA_FOUND`: μ–΄λ–¤ λ°μ΄ν„°λ„ μ¶”μ¶ν•μ§€ λ»ν•  λ–„
- λ‹¤μ κ°μ λ°μ΄ν„° ν–‰μ„ ν•λ‚μ”© μ¶”μ¶ν•  λ• **λ…μ‹μ  μ»¤μ„** μ΄μ©

<br>

### SELECT λ¬Έ μμ‹
- shop table

|shop_no|shop_name|
|---|---|
|1015|ART_STAR|
|1016|MUSIC_STAR|

<br>

- `TOO_MANY_ROWS` μ—λ¬ λ°μƒ μ
```sql
DECLARE
    v_no shop.shop_no%TYPE;
    v_name shop.shop_name%TYPE;
BEGIN
    SELECT shop_no, shop_name
    INTO v_no, v_name
    FROM shop;

    DBMS_OUPUT.PUT_LINE('μƒμ λ²νΈ: '||v_no);
    DBMS_OUPUT.PUT_LINE('μƒμ μ΄λ¦„: '||v_name);
END;
```

<br>

- `NO_DATA_FOUND` μ—λ¬ λ°μƒ μ
```sql
DECLARE 
    v_no shop.shop_no%TYPE;
    v_name shop.shop_name%TYPE;
BEGIN
    SELECT shop_no, shop_name
    INTO v_no, v_name
    FROM shop
    WHERE shop_no=1000;

    DBMS_OUPUT.PUT_LINE('μƒμ λ²νΈ: '||v_no);
    DBMS_OUPUT.PUT_LINE('μƒμ μ΄λ¦„: '||v_name);
END;
```

<br>

## π€ INSERT λ¬Έ


- ν•μ‹: SQLλ¬Έκ³Ό λ™μΌ

```sql
DECLARE
    v_no shop.shop_no%TYPE;
    v_name shop.shop_name%TYPE;
BEGIN
    SELECT shop_no, shop_name
    INTO v_no, v_name
    FROM shop
    WHERE shop_name='MUSIC STAR';

    INSERT INTO shop
    VALUES (v_no + 1, v_name);
END;
```

<br>

## π€ UPDATE λ¬Έ


- ν•μ‹: SQLλ¬Έκ³Ό λ™μΌ

```sql
DECLARE 
    v_name shop.shop_name%TYPE;
BEGIN
    v_name := 'PICTURE_STAR';

    UPDATE shop
    SET shop_name = v_name
    WHERE shop_name = 'MUSIC_STAR';
END;
```

<br>

## π€ DELETE λ¬Έ


- ν•μ‹: SQLλ¬Έκ³Ό λ™μΌ

```sql
BEGIN
    DELETE
    FROM shop
    WHERE shop_name = 'PICTURE_STAR';
END;
```